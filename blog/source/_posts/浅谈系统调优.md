---
title: 浅谈系统调优
date: 2018-07-27 14:14:18
tags:
---

#### /proc目录说明

/proc “文件系统”是一个目录，其中包含的文件层次结构代表了 Linux 内核的当前状态。它允许用户和管理员
查看系统的内核视图。
/proc 目录中还包含关于系统硬件及任何当前正在运行的程序信息。大部分在 /proc 中的文件是只读文件，
但一些文件（主要是 /proc/sys 文件）能够被用户和应用程序操作，以便向内核传达配置的修改信息。

#### 一些系统监控程序包
 ######  procps-ng软件包

 1、查看 procps-ng安装包中有哪些工具
 ```
 [root@www doc]# rpm -ql procps-ng
 /usr/bin/free           //查看内存使用情况
 /usr/bin/pgrep           //
 /usr/bin/pkill           //
 /usr/bin/pmap            //
 /usr/bin/ps              //提供选定的一组运行进程快照
 /usr/bin/pwdx            //
 /usr/bin/skill           //
 /usr/bin/slabtop         //
 /usr/bin/snice           //
 /usr/bin/tload           //
 /usr/bin/top             //
 /usr/bin/uptime          //
 /usr/bin/vmstat          //虚拟内存统计数据工具,提供关于系统进程、内存、分页、输入/输出、中断和 CPU 活动的即时报告。
 /usr/bin/w               //
 /usr/bin/watch           //
 /usr/lib64/libprocps.so.4
 /usr/lib64/libprocps.so.4.0.0
 /usr/sbin/sysctl          //
 ```
###### sysstat软件包
1、查看sysstat软件包中有哪些工具

```
[root@www bin]# rpm -ql sysstat
/usr/bin/cifsiostat             //   
/usr/bin/iostat                 //
/usr/bin/mpstat                 //
/usr/bin/nfsiostat-sysstat      //
/usr/bin/pidstat                //
/usr/bin/sadf                  //
/usr/bin/sar                   //收集及报告系统当天到目前为止发生的活动信息
/usr/bin/tapestat              //

```

###### kernel-tools软件包
1、查看kernel-tools软件包中的工具

```
[root@www bin]# rpm -ql kernel-tools
/etc/sysconfig/cpupower
/usr/bin/centrino-decode
/usr/bin/cpupower
/usr/bin/powernow-k8-decode
/usr/bin/tmon
/usr/bin/turbostat    //对 Intel® 64 位处理器中处理器的拓扑、频率、空闲的电源状态统
计、温度和用电量的报告
/usr/bin/x86_energy_perf_policy
```

###### iproute软件包
1、查看iproute软件包中的工具

```
[root@www bin]# rpm -ql iproute
/usr/sbin/arpd
/usr/sbin/bridge
/usr/sbin/cbq
/usr/sbin/ctstat
/usr/sbin/devlink
/usr/sbin/genl
/usr/sbin/ifcfg
/usr/sbin/ifstat
/usr/sbin/ip
/usr/sbin/lnstat
/usr/sbin/nstat
/usr/sbin/routef
/usr/sbin/routel
/usr/sbin/rtacct
/usr/sbin/rtmon
/usr/sbin/rtpr
/usr/sbin/rtstat
/usr/sbin/ss       //ss 是一个命令行实用程序，显示 socket 的统计信息，使管理员能够根据时间来评估设备性能。
/usr/sbin/tc
```

###### numactl软件包
1、查看numactl软件包中的工具

```
[root@www bin]# rpm -ql numactl
/usr/bin/memhog
/usr/bin/migratepages
/usr/bin/migspeed
/usr/bin/numactl
/usr/bin/numademo
/usr/bin/numastat  //numastat 工具以每一个 NUMA 节点为基础了，显示处理器和操作系统的内存统计数据

```
###### valgrind软件包
1、查看valgrind软件包中的工具

```
[root@www bin]# rpm -ql valgrind
/usr/bin/callgrind_annotate
/usr/bin/callgrind_control
/usr/bin/cg_annotate
/usr/bin/cg_diff
/usr/bin/cg_merge
/usr/bin/ms_print
/usr/bin/valgrind
/usr/bin/valgrind-di-server
/usr/bin/valgrind-listener
/usr/bin/vgdb

```

####### util-linux软件包
Util-linux 软件包包含许多工具。其中比较重要的是加载、卸载、格式化、分区和管理硬盘驱动器，打开 tty 端口和得到内核消息。

```

[root@www bin]# rpm -ql util-linux
/usr/bin/cal
/usr/bin/chfn
/usr/bin/chmem
/usr/bin/chrt
/usr/bin/chsh
/usr/bin/col   //过滤来自输入的反向行馈送内容。
/usr/bin/colcrt
/usr/bin/colrm  //在某个文件中删除列。
/usr/bin/column
/usr/bin/dmesg  //显示内核的启动信息。
/usr/bin/eject
/usr/bin/fallocate
/usr/bin/findmnt
/usr/bin/flock
/usr/bin/getopt
/usr/bin/hexdump
/usr/bin/i386
/usr/bin/ionice
/usr/bin/ipcmk
/usr/bin/ipcrm
/usr/bin/ipcs
/usr/bin/isosize
/usr/bin/kill
/usr/bin/linux32
/usr/bin/linux64
/usr/bin/logger
/usr/bin/login
/usr/bin/look
/usr/bin/lsblk
/usr/bin/lscpu
/usr/bin/lsipc
/usr/bin/lslocks
/usr/bin/lslogins
/usr/bin/lsmem
/usr/bin/lsns
/usr/bin/mcookie
/usr/bin/more
/usr/bin/mount
/usr/bin/mountpoint
/usr/bin/namei
/usr/bin/nsenter
/usr/bin/prlimit
/usr/bin/raw
/usr/bin/rename
/usr/bin/renice
/usr/bin/rev
/usr/bin/script
/usr/bin/scriptreplay
/usr/bin/setarch
/usr/bin/setpriv
/usr/bin/setsid
/usr/bin/setterm
/usr/bin/su
/usr/bin/tailf
/usr/bin/taskset
/usr/bin/ul
/usr/bin/umount
/usr/bin/unshare
/usr/bin/utmpdump
/usr/bin/uuidgen
/usr/bin/wdctl
/usr/bin/whereis
/usr/bin/write
/usr/bin/x86_64
/usr/sbin/addpart
/usr/sbin/agetty
/usr/sbin/blkdiscard
/usr/sbin/blkid
/usr/sbin/blockdev
/usr/sbin/cfdisk
/usr/sbin/chcpu
/usr/sbin/clock
/usr/sbin/ctrlaltdel
/usr/sbin/delpart
/usr/sbin/fdformat
/usr/sbin/fdisk
/usr/sbin/findfs
/usr/sbin/fsck
/usr/sbin/fsck.cramfs
/usr/sbin/fsck.minix
/usr/sbin/fsfreeze
/usr/sbin/fstrim
/usr/sbin/hwclock
/usr/sbin/ldattach
/usr/sbin/losetup
/usr/sbin/mkfs
/usr/sbin/mkfs.cramfs
/usr/sbin/mkfs.minix
/usr/sbin/mkswap
/usr/sbin/nologin
/usr/sbin/partx
/usr/sbin/pivot_root
/usr/sbin/readprofile
/usr/sbin/resizepart
/usr/sbin/rtcwake
/usr/sbin/runuser
/usr/sbin/sfdisk
/usr/sbin/sulogin
/usr/sbin/swaplabel
/usr/sbin/swapoff
/usr/sbin/swapon
/usr/sbin/switch_root
/usr/sbin/wipefs
/usr/sbin/zramctl

```
######  hwclock软件包

1、查看hwclock软件包中的工具
```
[root@www ~]# rpm -ql hwloc
/usr/bin/hwloc-annotate
/usr/bin/hwloc-assembler
/usr/bin/hwloc-assembler-remote
/usr/bin/hwloc-bind
/usr/bin/hwloc-calc
/usr/bin/hwloc-compress-dir
/usr/bin/hwloc-diff
/usr/bin/hwloc-distances
/usr/bin/hwloc-distrib
/usr/bin/hwloc-gather-topology
/usr/bin/hwloc-info
/usr/bin/hwloc-ls
/usr/bin/hwloc-patch
/usr/bin/hwloc-ps
/usr/bin/lstopo-no-graphics
/usr/lib/systemd/system/hwloc-dump-hwdata.service
/usr/sbin/hwloc-dump-hwdata

```

###### irqbalance软件包
irqbalance 是一个通过分配处理器硬件中断以提高系统性能的命令行工具。


######  numad软件包
numad 是一个自动的 NUMA 关联管理后台程序。它监控系统的 NUMA 拓扑和资源使用率，目的是为了动态地
提高 NUMA 的资源分配和管理（从而提高系统性能）。numad 可以根据系统的工作负载来为性能基准提供高
达 50% 的改善。它还提供预先安置咨询服务，可以通过多种工作关联系统进行查询，以此为最初绑定的 CPU
和内存资源的进程提供协助。



#### tuned 和 tuned-adm
tuned  是一个调整的后台程序，在某种工作负载量下通过设置调整配置文件使操作系统有更好的性能表现。对
其进行配置，使其对 CPU 和网络使用的变化做出响应，调整设置以提高激活设备的性能，并减少在未激活设
tuned-adm 是一个命令行工具，提供一些不同配置文件以提高一些特定用例性能。它也提供一个评估系统和
输出推荐的调整配置文件的子命令（tuned-adm recommend）。在您系统安装时它也能设置默认配置文
件，以便能用于返回默认配置文件。

tuned-adm 提供的文件分为两类：节能文件和性能提升文件。性能提升文件的内容如下，其侧重点分别为：
```
存储和网络的低延迟
存储和网络的高吞吐量
虚拟计算机性能
虚拟主机性能
```

#### cpu调优


#### 内存调优

#### 网络调优

#### 存储和文件系统
