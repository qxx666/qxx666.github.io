---
title: docker中的网络
date: 2018-05-24 17:51:05
tags:
---
docker中的中涉及到多种网络结构，做简单介绍

* 本地网络

| 网络类型      | 说明                |
|:-------------|:-----------------------        |
| bridge       | --net=bridge 默认模式,NAT转发    |
| host         | --net=host 使用宿主机网络        |
|  none        | --net=none 无网卡                |
| container    | --net=container:容器名或ID ,共用其它容器网络   |

如果要是容器与宿主机进行通讯则不可选择host和container这两种网络，如果你仅需要Docker容器与宿主机网段相同，容器与其他同网段节点相互通信，不与宿主机进行通信，可以使用host网络模型！

* 跨主机网络

| 网络类型   | 说明      |
| :------------- | :-------------   |
| overlay       |vxlan模式           |
| macvlan       |使用外部lan,需手动配置 |

macvlan的原理是在宿主机物理网卡上虚拟出多个子网卡，通过不同的MAC地址在数据链路层进行网络数据转发的，它是比较新的网络虚拟化技术，需要较新的内核支持，使用macVLAN模式的容器，无法ping通宿主机，宿主机也无法ping通该容器，对其他同网段的服务器和容器都可以联通。
